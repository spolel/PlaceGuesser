<div [style.background]="gameStarted ? 'none' : backgroundStyle " [style.background-size]="gameStarted ? 'none' : 'cover'" class="app-container">
    <div [ngClass]="settingsOpen || helpOpen || statsOpen ? 'overlay' : ''"></div>
    <div *ngIf="!gameStarted" class="container">
        <h1 class="title unselectable">PLACE GUESSER</h1>
        <img class="logo unselectable" src="../../../assets/earth-logo.svg" />
        <div class="button-container">
            <div class="spacer">
                <button class="button-iconopen" mat-icon-button (click)="openStats()">
                    <mat-icon>equalizer</mat-icon>
                </button>
            </div>
            <button class="button-play" color="primary" mat-raised-button (click)="openSettings()">
                PLAY
            </button>
            <div class="spacer">
                <button class="button-iconopen" mat-icon-button (click)="openHelp()">
                    <mat-icon>help</mat-icon>
                </button>
            </div>
        </div>
        <mat-card *ngIf="settingsOpen" class="settings-container middle">
            <mat-card-title class="help-title">Game settings</mat-card-title>
            <h2>Zone</h2>
            <mat-card-content>
                <mat-button-toggle-group class="settings-buttons" [formControl]="gameModeControl">
                    <mat-button-toggle value="worldwide">Worldwide</mat-button-toggle>
                    <mat-button-toggle value="europe">Europe</mat-button-toggle>
                    <mat-button-toggle value="africa">Africa</mat-button-toggle>
                    <mat-button-toggle value="americas">Americas</mat-button-toggle>
                    <mat-button-toggle value="asia/oceania">Asia/Oceania</mat-button-toggle>
                </mat-button-toggle-group>
            </mat-card-content>
            <h2>Population</h2>
            <mat-card-content>
                <mat-button-toggle-group class="settings-buttons" [formControl]="populationControl">
                    <mat-button-toggle value="500">> 500</mat-button-toggle>
                    <mat-button-toggle value="10000">> 10'000</mat-button-toggle>
                    <mat-button-toggle value="50000">> 50'000</mat-button-toggle>
                    <mat-button-toggle value="100000">> 100'000</mat-button-toggle>
                    <mat-button-toggle value="500000">> 500'000</mat-button-toggle>
                </mat-button-toggle-group>
            </mat-card-content>
            <mat-card-actions>
                <div class="buttons-settings-container">
                    <button class="button-close-settings" color="basic" mat-raised-button (click)="closeSettings()">
                        CANCEL
                    </button>
                    <button class="" color="primary" mat-raised-button (click)="startGame()">
                        NEXT
                    </button>
                </div>

            </mat-card-actions>
        </mat-card>
        <mat-card *ngIf="helpOpen" class="help-container">
            <mat-card-title class="help-title">HOW TO PLAY</mat-card-title>
            <mat-card-content>
                <h2>Game rules</h2>
                <p>
                    <br>
                    You get images from a <b>random place on earth</b> and you have to guess <b>where it is</b>.
                    <br><br>
                    Place you guess on the <b>map</b> .
                    <br><br>
                    There are <b>5 rounds</b> in total.
                    <br> The maximum points you can reach are 5000. You can get a maximum of 1000 points per round
                    depending on how close you were.
                    <br><br>
                    At the end of the game you will be shown a summary showing all your guesses on the map.
                    <br><br>
                </p>
                <h2>Settings</h2>
                <p> Before starting a game you can set different settings for the game.
                    <br><br>
                    You can select which <b>zone</b> in the world you would like to play in.
                    <br><br>
                    You can select the mininum <b>population</b> of the random places. You can keep it low if you want
                    even small villages
                    or put it higher for only big cities.
                    <br><br>
                </p>
            </mat-card-content>
            <mat-card-actions>
                <button class="button-closehelp" color="basic" mat-raised-button (click)="closeHelp()">
                    CLOSE
                </button>
            </mat-card-actions>
        </mat-card>
        <mat-card *ngIf="statsOpen" class="stats-container">
            <mat-card-title class="stats-title">STATS</mat-card-title>
            <mat-card-content>
                <div class="stats-content">
                    <div class="stat"> <div>Played</div>  <div class="stat-number">{{stats["played"]}}</div> </div>
                    <div class="stat"> <div>Highscore</div>  <div class="stat-number">{{stats["highscore"]}}</div> </div>
                </div>
                <app-barchart [barChartData]="barChartData" class="histo"></app-barchart>
            </mat-card-content>
            <mat-card-actions>
                <button class="button-closehelp" color="basic" mat-raised-button (click)="closeStats()">
                    CLOSE
                </button>
            </mat-card-actions>
        </mat-card>
        <div style="flex-grow:1"></div>
        <app-footer class="footer"></app-footer>
    </div>
    <app-place-guesser *ngIf="gameStarted" [gameMode]="gameMode" [populationMode]="populationMode"
        (resetGameEvent)="resetGame()"></app-place-guesser>
</div>